Type: AWS::DynamoDB::Table
Properties:
  TableName: quotes
  ProvisionedThroughput:
    ReadCapacityUnits:  1
    WriteCapacityUnits: 1
  AttributeDefinitions:
  - AttributeName: quoteId
    AttributeType: S
  - AttributeName: brokerId
    AttributeType: S
  - AttributeName: carrierId
    AttributeType: S
  - AttributeName: consignmentId
    AttributeType: S
  KeySchema:
  - AttributeName: quoteId
    KeyType: HASH
  GlobalSecondaryIndexes:
  - IndexName: quote-carrier-index
    Projection:
      ProjectionType: ALL
    ProvisionedThroughput:
      ReadCapacityUnits:  1
      WriteCapacityUnits: 1
    KeySchema:
    - AttributeName: quoteId
      KeyType: HASH
    - AttributeName: carrierId
      KeyType: RANGE
  - IndexName: carrierId-index
    Projection:
      ProjectionType: ALL
    ProvisionedThroughput:
      ReadCapacityUnits:  1
      WriteCapacityUnits: 1
    KeySchema:
    - AttributeName: carrierId
      KeyType: HASH
  - IndexName: quoteId-brokerId-index
    Projection:
      ProjectionType: ALL
    ProvisionedThroughput:
      ReadCapacityUnits:  1
      WriteCapacityUnits: 1
    KeySchema:
    - AttributeName: quoteId
      KeyType: HASH
    - AttributeName: brokerId
      KeyType: RANGE
  - IndexName: brokerId-consignmentId-index
    Projection:
      ProjectionType: ALL
    ProvisionedThroughput:
      ReadCapacityUnits:  1
      WriteCapacityUnits: 1
    KeySchema:
    - AttributeName: brokerId
      KeyType: HASH
    - AttributeName: consignmentId
      KeyType: RANGE